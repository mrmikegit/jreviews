name = "jreviews"
main = "src/index.ts"
compatibility_date = "2025-10-08"
compatibility_flags = ["nodejs_compat"]

[vars]
USE_GMB_OAUTH = "false"

[observability]
enabled = true

[[containers]]
class_name = "JReviewsContainer"
image = "./Dockerfile"
max_instances = 10

[[durable_objects.bindings]]
class_name = "JReviewsContainer"
name = "GOOGLE_REVIEWS_CONTAINER"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["GoogleReviewsContainer"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["JReviewsContainer"]
deleted_classes = ["GoogleReviewsContainer"]

upload_source_maps = true
